{% extends "layout.html" %}

{% block dynamicpage %}
    {% if user_profile %}
        {% if company_role %}
        <div class="company-role-container">
            <h2>{{ company_role.user.full_name }}</h2>
            <p>Department: {{ company_role.company_id }}</p>
            <p>Responsibilities: {{ company_role.industry }}</p>
            <p>Start Date: {{ company_role.description }}</p>
        {% else %}
        <div class="profile-container">
            <h2>{{ user_profile.name }}</h2>
            <p>Email: {{ user_profile.email }}</p>
            <p>Phone: {{ user_profile.phone }}</p>
        </div>
        {% endif %}
    {% else %}
        {% if company_role %}
        <div class="company-role-form">
            <h2>Company Role Information</h2>
            <form method="post">
                {% csrf_token %}
                <label for="role-name">Role Name:</label>
                <input type="text" id="role-name" name="role_name" class="input-field" placeholder="Enter role name" required>

                <label for="department">Department:</label>
                <input type="text" id="department" name="department" class="input-field" placeholder="Enter department" required>

                <label for="responsibilities">Responsibilities:</label>
                <textarea id="responsibilities" name="responsibilities" class="input-field" placeholder="List responsibilities" required></textarea>

                <label for="start-date">Start Date:</label>
                <input type="date" id="start-date" name="start_date" class="input-field" required>

                <label for="end-date">End Date (if applicable):</label>
                <input type="date" id="end-date" name="end_date" class="input-field">

                <div class="button-container">
                    <button type="submit" class="submit-btn">Save Role</button>
                </div>
            </form>
        </div>
        {% else %}
        <div class="form-body">
            <div class="form-container">
                <!-- Progress Bar -->
                <div class="progress-bar">
                    <div class="progress" id="progress"></div>
                </div>

                <!-- Page 1 -->
                <div class="form-page page-1 active">
                    <h2>Complete your profile</h2>
                    <label for="name">Full Name:</label>
                    <input type="text" id="name" class="input-field" placeholder="Enter your full name" required>

                    <label for="email">Email Address:</label>
                    <input type="email" id="email" class="input-field" placeholder="Enter your email" required>

                    <label for="phone">Phone Number:</label>
                    <input type="tel" id="phone" class="input-field" placeholder="Enter your phone number" required>

                    <label for="dob">Date of Birth:</label>
                    <input type="date" id="dob" class="input-field" required>

                    <div class="button-container">
                        <button class="next-btn">Next</button>
                    </div>
                </div>

                <!-- Page 2 -->
                <div class="form-page page-2">
                    <h2>Most Recent Work Experience</h2>
                    <label for="job-title">Job Title:</label>
                    <input type="text" id="job-title" class="input-field" placeholder="Enter your job title" required>

                    <label for="company">Company Name:</label>
                    <input type="text" id="company" class="input-field" placeholder="Enter your company name" required>

                    <label for="start-date">Start Date:</label>
                    <input type="date" id="start-date" class="input-field" required>

                    <label for="start-date">End Date:</label>
                    <input type="date" id="end-date" class="input-field" required>

                    <label for="employment-type">Employment Type:</label>
                    <select id="employment-type" class="input-field" required>
                        <option value="">Select employment type</option>
                        <option value="full-time">Full-Time</option>
                        <option value="part-time">Part-Time</option>
                        <option value="contract">Contract</option>
                        <option value="internship">Internship</option>
                    </select>
                    <div class="button-container">
                        <button class="prev-btn">Previous</button>
                        <button class="next-btn">Next</button>
                    </div>
                </div>

                <!-- Page 3 -->
                <div class="form-page page-3">
                    <h2>Education & Employment</h2>
                    <label for="education">Highest Education Level:</label>
                    <select id="education" class="input-field" required>
                        <option value="">Select education level</option>
                        <option value="high-school">High School</option>
                        <option value="bachelor">Bachelor's Degree</option>
                        <option value="master">Master's Degree</option>
                        <option value="phd">PhD</option>
                    </select>

                    <label for="occupation">Occupation:</label>
                    <input type="text" id="occupation" class="input-field" placeholder="Enter your occupation" required>

                    <label for="experience">Years of Experience:</label>
                    <input type="number" id="experience" class="input-field" placeholder="Enter years of experience" required>

                    <label for="resume">Upload Resume:</label>
                    <input type="file" id="resume" class="input-field" accept=".pdf,.doc,.docx" required>

                    <label for="ready-to-work">Ready to Work:</label>
                    <select id="ready-to-work" class="input-field" required>
                        <option value="">Select an option</option>
                        <option value="yes">Yes</option>
                        <option value="no">No</option>
                    </select>

                    <div class="button-container">
                        <button class="prev-btn">Previous</button>
                        <button class="next-btn">Next</button>
                    </div>
                </div>

                <!-- Page 4 -->
                <div class="form-page page-4">
                    <h2>Additional Information</h2>
                    <label for="comments">Bio:</label>
                    <textarea id="comments" class="input-field" placeholder="Enter your biography"></textarea>

                    <label for="skills">Skills:</label>
                    <textarea id="skills" class="input-field" placeholder="List your skills"></textarea>

                    <label for="certifications">Certifications:</label>
                    <textarea id="certifications" class="input-field" placeholder="List your certifications"></textarea>

                    <div class="button-container">
                        <button class="prev-btn">Previous</button>
                        <button class="submit-btn">Submit</button>
                    </div>
                </div>

                <!-- Page Number Indicator -->
                <div class="page-indicator">
                    Page <span id="current-page">1</span> of <span id="total-pages">4</span>
                </div>
            </div>

            <script src="script.js"></script>
        </div>
        {% endif %}
    {% endif %}
{% endblock dynamicpage %}

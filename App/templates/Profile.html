{% extends "layout.html" %}

{% block dynamicpage %}
    {% if user_profile %}
        {% if company_role %}
        <div class="company-role-container">
            <h2>{{ company_role.user.full_name }}</h2>
            <p>Department: {{ company_role.company_id }}</p>
            <p>Responsibilities: {{ company_role.industry }}</p>
            <p>Start Date: {{ company_role.description }}</p>
        {% else %}
        <div class="profile-container">
            <h2>{{ user_profile.name }}</h2>
            <p>Email: {{ user_profile.email }}</p>
            <p>Phone: {{ user_profile.phone }}</p>
        </div>
        {% endif %}
    {% else %}
        {% if company_role %}
        <div class="company-role-form">
            <h2>Company Role Information</h2>
            <form method="post">
                {% csrf_token %}
                <label for="role-name">Role Name:</label>
                <input type="text" id="role-name" name="role_name" class="input-field" placeholder="Enter role name" required>

                <label for="department">Department:</label>
                <input type="text" id="department" name="department" class="input-field" placeholder="Enter department" required>

                <label for="responsibilities">Responsibilities:</label>
                <textarea id="responsibilities" name="responsibilities" class="input-field" placeholder="List responsibilities" required></textarea>

                <label for="start-date">Start Date:</label>
                <input type="date" id="start-date" name="start_date" class="input-field" required>

                <label for="end-date">End Date (if applicable):</label>
                <input type="date" id="end-date" name="end_date" class="input-field">

                <div class="button-container">
                    <button type="submit" class="submit-btn">Save Role</button>
                </div>
            </form>
        </div>
        {% else %}
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            {{ form.as_p }}
            <button type="submit">Save</button>
        </form>
        {% endif %}
    {% endif %}
{% endblock dynamicpage %}
